{"version":3,"file":"index.js","sources":["../src/js/products-api.js","../src/js/refs.js","../src/js/render-function.js","../src/home.js"],"sourcesContent":["// Функції для роботи з бекендом\n\nimport axios from 'axios';\n// import { BASE_URL, LIMIT } from './constants';\n\naxios.defaults.baseURL = 'https://dummyjson.com';\n\nexport async function fetchCategories() {\n  try {\n    const response = await axios.get(`/products/category-list`);\n    //   console.log(response.data.products);\n    return response.data;\n  } catch (error) {\n    console.error('Error fetching categories:', error);\n    throw error;\n  }\n}\n\nexport async function fetchProducts(page = 1, limit = 12) {\n  const skip = (page - 1) * limit;\n  try {\n    const response = await axios.get(`/products?limit=${limit}&skip=${skip}`);\n    //   console.log(response.data.products);\n    return response.data.products;\n  } catch (error) {\n    console.error('Error fetching products:', error);\n    throw error;\n  }\n}\n\nexport async function fetchProductsByCategory(category) {\n  try {\n    const response = await axios.get(`/products/category/${category}`);\n    // console.log(response.data.products);\n    return response.data.products;\n  } catch (error) {\n    console.error(`Error fetching products by category:`, error);\n    throw error;\n  }\n}\n\nexport async function searchProducts(query, page = 1, limit = 12) {\n  const skip = (page - 1) * limit;\n  try {\n    const response = await axios.get(\n      `/products/search?q=${query}&limit=${limit}&skip=${skip}`\n    );\n    return response.data.products;\n  } catch (error) {\n    console.error('Error searching products:', error);\n    throw error;\n  }\n}\n\nexport async function fetchProductById(id) {\n  try {\n    const response = await axios.get(`/products/${id}`);\n    return response.data;\n  } catch (error) {\n    console.error(`Error fetching product with ID ${id}:`, error);\n    throw error;\n  }\n}\n","//Обʼєкт з посиланнями на ДОМ елементи\n\nimport { all } from 'axios';\n\nexport const refs = {\n  allCategories: document.querySelector('.categories'),\n  allProducts: document.querySelector('.products'),\n};\n","//Функцію для створення, рендеру або видалення розмітки\nimport { refs } from './refs';\n\nexport function markupCategories(categories) {\n  refs.allCategories.innerHTML = '';\n  const markup = categories\n    .map(\n      category =>\n        `<li class=\"categories__item\">\n   <button class=\"categories__btn\" type=\"button\">${category}</button>\n </li>`\n    )\n    .join('');\n\n  refs.allCategories.innerHTML = markup;\n}\n\nexport function markupProducts(products) {\n  refs.allProducts.innerHTML = '';\n  const markup = products\n    .map(\n      product => `<li class=\"products__item\" data-id=\"${product.id}\">\n    <img class=\"products__image\" src=\"${product.thumbnail}\" alt=\"${product.title}\"/>\n    <p class=\"products__title\">${product.title}</p>\n    <p class=\"products__brand\"><span class=\"products__brand--bold\">Brand: ${product.brand}</span></p>\n    <p class=\"products__category\">Category: ${product.category}</p>\n    <p class=\"products__price\">Price: ${product.price}</p>\n </li>\n    `\n    )\n    .join('');\n\n  refs.allProducts.innerHTML = markup;\n}\n","//Логіка сторінки Home\nimport axios, { all } from 'axios';\nimport {\n  fetchCategories,\n  fetchProducts,\n  fetchProductsByCategory,\n} from './js/products-api';\nimport { refs } from './js/refs';\nimport { markupCategories, markupProducts } from './js/render-function';\n\nexport async function initHomePage() {\n  try {\n    const categories = await fetchCategories();\n    const allCategories = ['All', ...categories];\n    markupCategories(allCategories);\n    const products = await fetchProducts();\n    markupProducts(products);\n  } catch (error) {\n    console.error('Error initializing homepage:', error);\n  }\n}\n\ninitHomePage();\n\nrefs.allCategories.addEventListener('click', async event => {\n  const clickedBtn = event.target.closest('.categories__btn');\n  //   console.log(clickedBtn.textContent);\n  if (!clickedBtn) {\n    return;\n  }\n  if (clickedBtn.textContent === 'All') {\n    const products = await fetchProducts();\n    markupProducts(products);\n  } else {\n    const products = await fetchProductsByCategory(clickedBtn.textContent);\n    markupProducts(products);\n    //   console.log(products);\n  }\n});\n"],"names":["axios","fetchCategories","error","fetchProducts","page","limit","skip","fetchProductsByCategory","category","refs","markupCategories","categories","markup","markupProducts","products","product","initHomePage","allCategories","event","clickedBtn"],"mappings":"oFAKAA,EAAM,SAAS,QAAU,wBAElB,eAAeC,GAAkB,CACtC,GAAI,CAGF,OAFiB,MAAMD,EAAM,IAAI,yBAAyB,GAE1C,IACjB,OAAQE,EAAO,CACd,cAAQ,MAAM,6BAA8BA,CAAK,EAC3CA,CACP,CACH,CAEO,eAAeC,EAAcC,EAAO,EAAGC,EAAQ,GAAI,CACxD,MAAMC,GAAQF,EAAO,GAAKC,EAC1B,GAAI,CAGF,OAFiB,MAAML,EAAM,IAAI,mBAAmBK,CAAK,SAASC,CAAI,EAAE,GAExD,KAAK,QACtB,OAAQJ,EAAO,CACd,cAAQ,MAAM,2BAA4BA,CAAK,EACzCA,CACP,CACH,CAEO,eAAeK,EAAwBC,EAAU,CACtD,GAAI,CAGF,OAFiB,MAAMR,EAAM,IAAI,sBAAsBQ,CAAQ,EAAE,GAEjD,KAAK,QACtB,OAAQN,EAAO,CACd,cAAQ,MAAM,uCAAwCA,CAAK,EACrDA,CACP,CACH,CCnCO,MAAMO,EAAO,CAClB,cAAe,SAAS,cAAc,aAAa,EACnD,YAAa,SAAS,cAAc,WAAW,CACjD,ECJO,SAASC,EAAiBC,EAAY,CAC3CF,EAAK,cAAc,UAAY,GAC/B,MAAMG,EAASD,EACZ,IACCH,GACE;AAAA,mDAC2CA,CAAQ;AAAA,OAEtD,EACA,KAAK,EAAE,EAEVC,EAAK,cAAc,UAAYG,CACjC,CAEO,SAASC,EAAeC,EAAU,CACvCL,EAAK,YAAY,UAAY,GAC7B,MAAMG,EAASE,EACZ,IACCC,GAAW,uCAAuCA,EAAQ,EAAE;AAAA,wCAC1BA,EAAQ,SAAS,UAAUA,EAAQ,KAAK;AAAA,iCAC/CA,EAAQ,KAAK;AAAA,4EAC8BA,EAAQ,KAAK;AAAA,8CAC3CA,EAAQ,QAAQ;AAAA,wCACtBA,EAAQ,KAAK;AAAA;AAAA,KAGhD,EACA,KAAK,EAAE,EAEVN,EAAK,YAAY,UAAYG,CAC/B,CCvBO,eAAeI,GAAe,CACnC,GAAI,CAEF,MAAMC,EAAgB,CAAC,MAAO,GADX,MAAMhB,GACkB,EAC3CS,EAAiBO,CAAa,EAC9B,MAAMH,EAAW,MAAMX,IACvBU,EAAeC,CAAQ,CACxB,OAAQZ,EAAO,CACd,QAAQ,MAAM,+BAAgCA,CAAK,CACpD,CACH,CAEAc,IAEAP,EAAK,cAAc,iBAAiB,QAAS,MAAMS,GAAS,CAC1D,MAAMC,EAAaD,EAAM,OAAO,QAAQ,kBAAkB,EAE1D,GAAKC,EAGL,GAAIA,EAAW,cAAgB,MAAO,CACpC,MAAML,EAAW,MAAMX,IACvBU,EAAeC,CAAQ,CAC3B,KAAS,CACL,MAAMA,EAAW,MAAMP,EAAwBY,EAAW,WAAW,EACrEN,EAAeC,CAAQ,CAExB,CACH,CAAC"}